## Chapter 2
**Core Defense Mechanisms**
* Handling user access to the app's data and functionality to prevent users from gaining unauthorized access.
* Handling user input to the app's functions to prevent malformed input from causing undesirable behavior.
* Handling attackers to ensure that the application behaves appropriately when being directly targeted, taking suitable defensive and offensive measures to frustrate the attacker
* Managing the application itself by enabling administrators to monitor its activities and configure its functionality.

**Trio of interrelated security mechanisms:**
* Authentication
* Session management
* Access control

**User input validations**
* When an application detects that server-generated data has been modified in a way that is not possible for an ordinary user with a standard browser, this often indicates that the user is attempting to probe the app for vulnerabilities. In these cases, browser should reject the request and log the incident for potential investigation.

**Approaches to input handling**
* Reject known bad
  * Employs blacklist containing known malicious strings or patterns.
  * Bypass examples
    * If SELECT is blocked, try SeLeCt
    * If or 1=1-- is blocked, try or 2=2--
    * If alert('xss') is blocked, try prompt('xss')
    * Adding** NULL byte**, %00<script>alert(1)</script>
* Accept known good
  * Employs whitelist, block everything else not on the list.
  * It is a effective way; however, id does not represent an all-purpose solution to the problem of handling user input.
* Sanitization
  * It is a good way to do it. **But** effective sanitization my be difficult to achieve if several kinds of potentially malicious data need to be accommodated within one item of input.
  * In this situation, boundary validation comes in.
* Safe data handling
  * Ensuring that the processing that is performed on it is inherently safe.
* Semantic check
  * Application needs to validate that a account number submitted belongs to the user who has submitted it.

## **Boundary validation**
* Each individual component or functional unit of the server-side application trets its inputs as coming from a potentially malicious source. Data validation is performed at each of these trust boundaries, in addition to the external frontier between the client and server.


## **Questions**
* Why are an applicationâ€™s mechanisms for handling user access only as strong as the weakest of these components?
  * Access is handled using a trio of mechanisms relating to authentication, session management, and access control. These components are highly interdependent and weakness in any one of them will undermine the effectiveness of the overall access handling mechanism.
* What is the difference between a session and a session token?
  * A session is a set of data structures held on the server, which are used to track the state of the user's interaction with the application. 
  * A session token is a unique string that application maps to the session, and is submitted by the user to reidentify themselves across successive requests.
* Why is it not always possible to use a whitelist-based approach to input validation?
  * Many situations where an application may be forced to accept data for processing that does not match a list or pattern of input that is known to be "good".
